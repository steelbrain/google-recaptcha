"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_get=function(e,t,r){for(var o=!0;o;){var i=e,a=t,c=r;n=s=l=void 0,o=!1,null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,a);if(void 0!==n){if("value"in n)return n.value;var l=n.get;return void 0===l?void 0:l.call(c)}var s=Object.getPrototypeOf(i);if(null===s)return void 0;e=s,t=a,r=c,o=!0}},GoogleRecaptcha=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"createdCallback",value:function(){this.style.display="block",this.config={sitekey:this.getAttribute("sitekey")||"",theme:this.getAttribute("theme")||"light",type:this.getAttribute("type")||"image"}}},{key:"attachedCallback",value:function(){if(!this.config.sitekey)throw new Error("Google-Recaptcha: No sitekey specified");if("light"!==this.config.theme&&"dark"!==this.config.theme)throw new Error("Google-Recaptcha: Invalid theme specified");if("image"!==this.config.type&&"audio"!==this.config.type)throw new Error("Google-Recaptcha: Invalid type specified");if(t._SCRIPT_LOADED||t.loadScript(),this.appendChild(this._container=document.createElement("div")),window.grecaptcha)this._render();else var e=this,r=setInterval(function(){window.grecaptcha&&(clearInterval(r),e._render())},3e3)}},{key:"attributeChangedCallback",value:function(e,t,r){this.config.hasOwnProperty(e)&&(this.config[e]=r)}},{key:"_render",value:function(){this._captchaId=grecaptcha.render(this._container,this.config)}},{key:"reset",value:function(){grecaptcha.reset(this._captchaId)}},{key:"getResponse",value:function(){return grecaptcha.getResponse(this._captchaId)}}],[{key:"loadScript",value:function(){t._SCRIPT_LOADED=!0;var e=document.createElement("script");e.setAttribute("async",""),e.setAttribute("defer",""),e.setAttribute("type","application/javascript"),e.setAttribute("src",t._API_URL),document.head.appendChild(e)}}]),t}(HTMLElement);GoogleRecaptcha._API_URL="https://www.google.com/recaptcha/api.js",GoogleRecaptcha._SCRIPT_LOADED=!1,GoogleRecaptcha.Element=document.registerElement("google-recaptcha",{prototype:Object.create(GoogleRecaptcha.prototype)}),"undefined"!=typeof module&&(module.exports=GoogleRecaptcha.Element);